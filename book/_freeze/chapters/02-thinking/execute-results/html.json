{
  "hash": "41398b91a32bc2e55dc652f5a201aafd",
  "result": {
    "engine": "jupyter",
    "markdown": "# 计算思维与问题分解 {#sec-thinking}\n\n::: {.callout-note}\n## 本章概要\n- **课时**：2课时（第2周）\n- **目标**：掌握计算思维，学会 Prompt Engineering 基础\n:::\n\n## 学习目标\n\n完成本章后，你将能够：\n\n1. 理解计算思维的四大核心能力\n2. 将复杂问题分解为可执行的步骤\n3. 编写有效的 AI Prompt\n\n---\n\n## 什么是计算思维？\n\n计算思维（Computational Thinking）是一种解决问题的思维方式，它不依赖于具体的编程语言，而是一种通用的问题解决框架。\n\n::: {.callout-tip}\n## AI 时代还需要计算思维吗？\n**答案是：更需要！**\n\nAI 负责\"写代码\"，人负责\"想清楚问题\"。如果你不能清晰地描述问题，AI 也无法帮你解决。\n:::\n\n### 四大核心能力\n\n```{mermaid}\nmindmap\n  root((计算思维))\n    分解\n      大问题拆成小问题\n      模块化处理\n    模式识别\n      发现规律\n      重复利用\n    抽象\n      忽略细节\n      抓住本质\n    算法设计\n      明确步骤\n      可执行\n```\n\n| 能力 | 说明 | 生活示例 |\n|-----|------|---------|\n| **分解** | 把大问题拆成小问题 | 做蛋炒饭 → 打蛋、切葱、热油、炒饭... |\n| **模式识别** | 发现规律和重复 | 每道菜都需要\"备料→加热→调味\" |\n| **抽象** | 忽略细节，抓住本质 | \"烹饪\"就是\"输入食材，输出菜品\" |\n| **算法设计** | 设计解决步骤 | 先热锅→放油→放蛋→放饭→调味 |\n\n### 分解：把大问题拆成小问题\n\n任何复杂的任务都可以分解成更小的子任务。\n\n**示例：设计一个\"成绩统计器\"**\n\n原始需求：\n> 读取学生成绩，计算统计数据，输出报告\n\n分解后：\n```\n1. 读取成绩数据（从哪里读？什么格式？）\n2. 计算平均分 = 总分 / 人数\n3. 找出最高分\n4. 找出最低分\n5. 计算及格率 = 及格人数 / 总人数 × 100%\n6. 输出结果（输出到哪里？什么格式？）\n```\n\n### 模式识别：发现规律\n\n观察问题中的重复模式，可以让解决方案更简洁。\n\n**示例：批量处理文件**\n\n```\n处理 photo1.jpg → photo1_resized.jpg\n处理 photo2.jpg → photo2_resized.jpg\n处理 photo3.jpg → photo3_resized.jpg\n...\n```\n\n**模式**：对于每个文件，执行相同的操作。\n**抽象**：`处理(文件) → 处理后的文件`\n\n### 抽象：忽略细节\n\n抽象是指提取关键信息，忽略不必要的细节。\n\n**示例：设计一个通讯录**\n\n用户关心的：\n- 存储联系人（姓名、电话、邮箱）\n- 查找联系人\n- 修改联系人\n- 删除联系人\n\n用户不关心的：\n- 数据存在哪个文件里\n- 用什么格式存储\n- 查找的算法是什么\n\n### 算法设计：设计步骤\n\n算法是解决问题的明确步骤序列。\n\n**示例：在列表中查找最大值**\n\n```\n1. 假设第一个元素是最大值\n2. 遍历剩余元素\n3. 如果当前元素 > 最大值，更新最大值\n4. 返回最大值\n```\n\n---\n\n## 问题分解：从需求到伪代码\n\n在让 AI 写代码之前，先用自然语言描述清楚你要做什么。\n\n```{mermaid}\nflowchart TD\n    A[\"原始需求\"] --> B[\"明确输入输出\"]\n    B --> C[\"分解步骤\"]\n    C --> D[\"考虑边界情况\"]\n    D --> E[\"编写详细描述\"]\n    E --> F[\"让 AI 生成代码\"]\n    F --> G{\"测试通过?\"}\n    G -->|否| H[\"补充描述\"]\n    H --> F\n    G -->|是| I[\"完成\"]\n```\n\n### 案例分析：成绩统计器\n\n**第一步：明确输入输出**\n\n- **输入**：一组成绩数据（从哪来？CSV文件）\n- **输出**：统计结果（平均分、最高分、最低分、及格率）\n\n**第二步：分解步骤**\n\n```\n1. 读取 CSV 文件中的成绩数据\n2. 验证数据有效性（成绩在0-100之间）\n3. 计算平均分\n4. 找出最高分和最低分\n5. 计算及格率（60分及格）\n6. 输出统计结果\n```\n\n**第三步：考虑边界情况**\n\n::: {.callout-warning}\n## 边界情况是 AI 容易忽略的地方！\n在描述问题时，主动列出边界情况，AI 才能正确处理。\n:::\n\n- 如果文件不存在怎么办？\n- 如果没有数据怎么办？\n- 如果有无效数据（负数、超过100、非数字）怎么办？\n- 如果有人没考试（缺失值）怎么办？\n\n**第四步：写成更详细的描述**\n\n```\n写一个 Python 函数 analyze_scores(filepath)：\n\n输入：CSV 文件路径，文件包含 \"学号,姓名,成绩\" 三列\n\n功能：\n1. 读取文件，提取成绩列\n2. 跳过无效数据（非数字、<0、>100）\n3. 计算：平均分、最高分、最低分、及格率\n\n输出：字典格式\n{\n  \"average\": 平均分（保留2位小数）,\n  \"max\": 最高分,\n  \"min\": 最低分,\n  \"pass_rate\": 及格率百分比（保留1位小数）\n}\n\n边界处理：\n- 文件不存在：抛出 FileNotFoundError\n- 没有有效数据：返回 None\n```\n\n---\n\n## Prompt Engineering 基础\n\nPrompt Engineering 是\"如何写出好的 AI 提示词\"的技术。一个好的 Prompt 能让 AI 更准确地理解你的需求。\n\n### 好 Prompt 的要素\n\n| 要素 | 说明 | 示例 |\n|-----|------|------|\n| **明确目标** | 你要什么 | \"写一个 Python 函数\" |\n| **输入输出** | 数据格式 | \"输入是成绩列表，输出是字典\" |\n| **约束条件** | 限制和要求 | \"成绩范围 0-100\" |\n| **示例** | 具体例子 | \"例如 [80, 90, 75] → 81.67\" |\n| **边界情况** | 特殊情况处理 | \"如果列表为空，返回 None\" |\n\n### Prompt 对比练习\n\n**❌ 不好的 Prompt：**\n```\n帮我写个成绩统计的程序\n```\n\n问题：\n- 没说成绩从哪来（列表？文件？）\n- 没说要统计什么（平均分？排名？）\n- 没说输出格式\n- 没说边界情况\n\n**✅ 好的 Prompt：**\n```\n写一个 Python 函数 analyze_scores(scores)：\n\n功能：统计成绩数据\n\n输入参数：\n- scores：成绩列表，如 [85, 92, 78, 60, 45]\n\n返回值：\n- 字典，包含：\n  - avg：平均分（保留2位小数）\n  - max：最高分\n  - min：最低分  \n  - pass_rate：及格率（60分及格，百分比形式）\n\n边界处理：\n- 如果列表为空，返回 None\n- 跳过非数字元素\n\n示例：\nanalyze_scores([80, 90, 70]) \n→ {\"avg\": 80.0, \"max\": 90, \"min\": 70, \"pass_rate\": 100.0}\n```\n\n### Prompt 模板\n\n复制这个模板，根据需要修改：\n\n```\n我需要一个 Python [程序/函数/类] 来 [做什么]。\n\n输入：\n- [参数1]：[类型和说明]\n- [参数2]：[类型和说明]\n\n输出：\n- [返回值类型和格式]\n\n要求：\n1. [具体要求1]\n2. [具体要求2]\n3. [具体要求3]\n\n边界情况：\n- 如果 [情况1]，则 [处理方式]\n- 如果 [情况2]，则 [处理方式]\n\n示例：\n输入：[具体示例]\n输出：[期望结果]\n```\n\n---\n\n## 实战练习：用自然语言实现计算器\n\n### 任务描述\n\n创建一个命令行计算器：\n- 支持加减乘除\n- 用户输入表达式，输出结果\n- 输入 \"quit\" 退出\n\n### 第一次尝试\n\n**Prompt：**\n```\n写一个命令行计算器，支持加减乘除\n```\n\n**AI 可能生成的代码：**\n\n::: {#6e1d709a .cell execution_count=1}\n``` {.python .cell-code}\nwhile True:\n    expr = input(\"请输入表达式：\")\n    if expr == \"quit\":\n        break\n    result = eval(expr)\n    print(f\"结果：{result}\")\n```\n:::\n\n\n### 发现问题\n\n运行测试后发现几个问题：\n\n1. 输入非法表达式（如 \"abc\"）会报错\n2. 使用 `eval()` 有安全风险\n3. 没有友好的错误提示\n\n### 改进 Prompt\n\n```\n写一个命令行计算器：\n\n功能：\n- 用户输入算术表达式（如 \"3 + 4 * 2\"）\n- 程序计算并输出结果\n- 输入 \"quit\" 退出程序\n\n要求：\n- 支持 +、-、*、/ 四种运算\n- 支持小数和负数\n- 不使用 eval()（安全考虑）\n- 提供友好的错误提示\n\n边界处理：\n- 无效表达式：提示\"表达式格式错误\"\n- 除以零：提示\"除数不能为零\"\n```\n\n### 改进后的代码\n\nAI 会生成更完善的代码，可能使用正则表达式解析或其他方法。\n\n```{mermaid}\nflowchart LR\n    subgraph 迭代循环\n        A[\"编写 Prompt\"] --> B[\"AI 生成代码\"]\n        B --> C[\"测试运行\"]\n        C --> D{\"发现问题?\"}\n        D -->|是| E[\"分析问题\"]\n        E --> F[\"改进 Prompt\"]\n        F --> A\n        D -->|否| G[\"✅ 完成\"]\n    end\n```\n\n::: {.callout-tip}\n## 迭代是正常的\n第一次 Prompt 不完美是正常的！发现问题后，补充描述，让 AI 改进。这就是 **Vibe Coding** 的核心流程。\n:::\n\n---\n\n## 思考：AI 能替代计算思维吗？\n\n**不能！**\n\nAI 可以帮你写代码，但它不能：\n\n1. **理解你的真实需求** —— 你需要告诉它\n2. **判断方案是否合理** —— 你需要验证\n3. **预见所有边界情况** —— 你需要思考\n4. **为错误负责** —— 你需要审查\n\n因此，计算思维（分解、抽象、模式识别、算法设计）在 AI 时代反而更重要——它帮助你更准确地描述问题，更有效地与 AI 协作。\n\n---\n\n## 课后练习\n\n### 练习 1：问题分解\n\n将以下任务分解为具体步骤：\n> \"创建一个通讯录程序，可以添加、查找、修改、删除联系人\"\n\n### 练习 2：编写 Prompt\n\n为以下需求编写一个好的 Prompt：\n> \"将摄氏温度转换为华氏温度\"\n\n要求包含：输入、输出、边界情况、示例。\n\n### 练习 3：与 AI 协作\n\n使用你在练习2中编写的 Prompt，让 AI 生成代码。然后：\n1. 测试代码是否正确\n2. 发现问题并改进 Prompt\n3. 在 REPORT.md 中记录迭代过程\n\n---\n\n## 本章小结\n\n- **计算思维**包含分解、模式识别、抽象、算法设计四大能力\n- **问题分解**是与 AI 协作的第一步：输入→处理→输出\n- **边界情况**是 AI 容易忽略的，需要人工补充\n- **好的 Prompt** 应包含：目标、输入输出、约束条件、示例、边界处理\n- **迭代改进**是正常的：发现问题 → 改进 Prompt → 重新生成\n\n下一章，我们将学习如何**阅读和理解** AI 生成的代码。\n\n",
    "supporting": [
      "02-thinking_files"
    ],
    "filters": [],
    "includes": {}
  }
}