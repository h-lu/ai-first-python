# 作业 5：期末综合项目

> 📅 **布置周期**：第 12-16 周  
> 💯 **总分**：25 分  
> 🎯 **对应章节**：第 11-15 章（API、LLM、Web、项目开发）

## 任务概述

完成一个有实际用途的小工具/应用，综合运用整个学期所学技能。这是学期的压轴作业，需要学生展示完整的项目开发能力。

---

## 核心理念

> 在 AI 时代——
> 
> 语法可以查询，代码可以生成，Bug 可以让 AI 修复，文档可以自动撰写，测试可以批量创建，架构可以智能建议，重构可以一键完成……
>
> **但是——**
>
> - **判断什么值得做的能力**
> - **为结果负责的能力**
> - **理解用户真实需求的能力**
> - **在约束中做取舍的能力**
>
> 这些永远属于你。

本作业不仅评估你的代码能力，更评估你作为一个**完整的开发者**的能力。

---

## 学习目标

完成本作业后，学生应能够：

1. ✅ 独立完成一个完整的软件项目
2. ✅ 综合运用文件处理、API 调用、数据处理等技能
3. ✅ **在项目中有效集成 LLM 能力**（DeepSeek/OpenAI API）
4. ✅ 实现用户交互界面（CLI 或 Web）
5. ✅ 记录项目迭代过程（CHANGELOG）
6. ✅ **做出有意义的技术决策，并能解释为什么**

---

## 项目要求

### 必选功能（全部满足）

| 要求 | 说明 | 验证方式 |
|-----|------|---------|
| ✅ LLM 集成 | **必须**使用 DeepSeek/OpenAI API | 功能测试 |
| ✅ 外部数据交互 | 文件读写 或 其他 API 调用 | 功能测试 |
| ✅ 数据处理逻辑 | 有实质性的数据操作（不只是透传） | 功能测试 |
| ✅ 用户交互 | CLI 参数 或 Web 界面（Streamlit） | 功能测试 |
| ✅ 错误处理 | 优雅处理各种异常情况 | 功能测试 |

### 评估维度

本项目从以下三个维度评估：

| 维度 | 分值 | 评估方式 |
|------|------|----------|
| 📄 文档质量 | 8 分 | LLM 评估 REPORT.md + CHANGELOG.md |
| ⚡ 功能表现 | 12 分 | 运行 manifest 命令 + LLM 评估输出 |
| 🔧 代码质量 | 5 分 | 读取源码 + LLM 评估 |

---

## 选题方向

### 开放式选题

你可以选择任何方向，只要满足必选功能要求。以下是一些参考方向：

- **智能日记助手**：记录日记，LLM 情绪分析/月度总结
- **智能笔记搜索**：搜索笔记，LLM 生成摘要
- **智能记账助手**：管理收支，LLM 生成理财建议
- **智能天气播报**：查询天气，LLM 生成播报文案
- **智能问卷分析**：分析问卷数据，LLM 生成洞察报告
- **定制聊天机器人**：自定义人设的对话助手
- **其他自拟项目**：需满足所有必选要求

> 💡 **参考示例**：查看 `example/` 目录下的"智能日记助手"完整实现

---

## manifest.yaml 要求（重要！）

**你必须在项目根目录创建 `manifest.yaml` 文件**，声明项目的运行方式。评测系统将根据这个文件自动运行你的项目。

### 格式规范

```yaml
# manifest.yaml - 必填文件
project:
  name: "你的项目名称"
  description: "一句话描述项目功能"

# 运行命令（评测系统会依次执行这些命令）
commands:
  # 主功能演示（必填，至少 3 个命令）
  demo:
    - command: "python src/main.py 参数1"
      description: "演示功能1"
    - command: "python src/main.py 参数2"
      description: "演示功能2"
    - command: "python src/main.py --llm-feature"
      description: "演示 LLM 功能"
  
  # 错误处理演示（必填，至少 2 个命令）
  error_handling:
    - command: "python src/main.py 无效输入"
      description: "测试无效输入处理"
    - command: "python src/main.py"
      description: "测试缺少参数处理"

  # Web 界面（可选，如有 Streamlit）
  web:
    command: "streamlit run app.py --server.headless true"
    port: 8501

# 需要的环境变量（评测时会注入）
env_vars:
  - DEEPSEEK_API_KEY
  # 如需其他 API Key，在此列出
```

### 重要说明

- 评测系统会**自动运行**你在 `commands` 中声明的命令
- 运行结果（stdout/stderr）会被捕获并交给 LLM 评估
- 如果命令超时（60秒）或崩溃，功能分数会降低
- 请确保命令能在**无人交互**环境下运行

---

## 项目结构要求

```
your-project/
├── .gitea/
│   └── workflows/
│       └── autograde.yml        # 自动评分（已提供，勿修改）
├── src/
│   ├── __init__.py
│   ├── main.py                  # 主入口（CLI）
│   └── [modules].py             # 功能模块
├── app.py                       # Streamlit 入口（如有）
├── data/                        # 数据文件
├── output/                      # 输出文件
├── manifest.yaml                # ⚠️ 必填！项目运行声明
├── .env.example                 # 环境变量示例（不含真实 key）
├── README.md                    # 项目说明
├── REPORT.md                    # 反思报告
├── CHANGELOG.md                 # 版本记录
└── requirements.txt             # 依赖
```

---

## REPORT.md 要求（8 分中的 5 分）

### 设计理念

> 🎯 **期末项目的核心问题**：你做了一个什么？为什么做这个？过程中你学到了什么？
>
> 这不只是一个编程作业，而是你作为**独立开发者**的一次完整实践。

### 必答内容

```markdown
# 期末项目反思报告

## 1. 项目定位（为什么做这个？）

### 项目名称
[名称]

### 解决的问题
这个项目解决什么问题？谁会用？为什么值得做？

> [在此处回答]

### 为什么选择这个方向
你有其他选择，为什么选了这个？

> [在此处回答]

## 2. 技术决策（你是如何思考的？）

### 关键技术选型

| 决策点 | 你的选择 | 考虑过的替代方案 | 选择理由 |
|-------|---------|----------------|---------|
| 数据存储 | [例：JSON] | [例：SQLite, CSV] | [理由] |
| 用户界面 | [例：CLI] | [例：Streamlit] | [理由] |
| ... | ... | ... | ... |

### 最难的技术决策
描述一个让你纠结的技术决策，以及最终如何选择的。

> [在此处回答]

## 3. 与 AI 协作

### 最有效的 Prompt
展示一个你觉得写得好的 Prompt：

```
[你的 Prompt]
```

为什么这个 Prompt 有效？

> [在此处回答]

### AI 帮不了的地方
有什么是 AI 帮不了、必须你自己思考的？

> [在此处回答]

## 4. 迭代与成长

### 最大的挑战
描述你遇到的最大挑战，以及如何克服的。

- **挑战**：
- **尝试的解决方案**：
- **最终方案**：
- **学到的经验**：

> [在此处回答]

### 如果重来一次
如果让你重新做这个项目，你会有什么不同的做法？

> [在此处回答]

## 5. 自我评价

你觉得这个项目完成度如何？有什么遗憾？

> [在此处回答]
```

### 评分标准

| 评分维度 | 分值 | 说明 |
|---------|------|------|
| 项目定位 | 1 分 | 清楚说明项目价值，不是"完成作业" |
| 技术决策 | 2 分 | 有思考过程，不是"AI 说用这个" |
| 迭代成长 | 1 分 | 真实的挑战和成长，不是流水账 |
| 自我反思 | 1 分 | 诚实的自我评价，知道不足在哪 |

---

## CHANGELOG.md 要求（8 分中的 3 分）

### 格式要求

```markdown
# 版本记录

## v1.0.0 (2024-XX-XX) - 最终提交版本

### 新增
- [功能] 完成 XXX 功能
- [功能] 添加 XXX 特性

### 修复
- [Bug] 修复 XXX 问题
  - 原因：AI 初版代码没有处理 XXX 情况
  - 修改：添加了 XXX 检查

### 改进
- [优化] 改进了 XXX 的性能
- [重构] 重构了 XXX 模块，提高可读性

---

## v0.2.0 (2024-XX-XX) - 功能完善

### 新增
- 添加了 XXX 功能

### 修复
- 修复了 XXX 边界情况
- 修复了 XXX 错误处理

---

## v0.1.0 (2024-XX-XX) - AI 初版

### 新增
- 基本功能实现
- 初始代码框架由 AI 生成

### 已知问题
- XXX 边界情况未处理
- XXX 错误处理不完善
- XXX 功能待实现
```

### 评分标准

| 等级 | 标准 | 分数 |
|-----|------|------|
| A | 3+ 版本，每版有实质变化，清晰描述改动原因 | 3 分 |
| B | 2 个版本，能看出迭代过程 | 2 分 |
| C | 1 个版本或记录过于简略 | 1 分 |
| D | 无实质记录 | 0 分 |

---

## 功能评估（12 分）

功能评估基于 `manifest.yaml` 中声明的命令运行结果：

| 评分项 | 分值 | 说明 |
|-------|------|------|
| 核心功能正常 | 4 分 | 主功能命令能正确执行并输出合理结果 |
| LLM 集成有效 | 3 分 | LLM 功能有实际作用，不是摆设 |
| 错误处理健壮 | 3 分 | 无效输入不崩溃，有友好提示 |
| 用户体验 | 2 分 | 输出清晰、有帮助信息、易于使用 |

---

## 代码质量评估（5 分）

| 评分项 | 分值 | 说明 |
|-------|------|------|
| 代码结构 | 2 分 | 模块划分合理，函数职责单一 |
| 代码可读性 | 2 分 | 命名规范、有必要注释、格式整洁 |
| 安全性 | 1 分 | API Key 通过环境变量管理，有 .env.example |

---

## 评分权重

```
┌─────────────────────────────────────┐
│  📄 文档质量     ████████░░░░  8 分  │
│     REPORT.md   █████░░░░░░░  5 分  │
│     CHANGELOG   ███░░░░░░░░░  3 分  │
├─────────────────────────────────────┤
│  ⚡ 功能表现     ████████████ 12 分  │
│     核心功能    ████░░░░░░░░  4 分  │
│     LLM 集成    ███░░░░░░░░░  3 分  │
│     错误处理    ███░░░░░░░░░  3 分  │
│     用户体验    ██░░░░░░░░░░  2 分  │
├─────────────────────────────────────┤
│  🔧 代码质量     █████░░░░░░░  5 分  │
│     代码结构    ██░░░░░░░░░░  2 分  │
│     可读性      ██░░░░░░░░░░  2 分  │
│     安全性      █░░░░░░░░░░░  1 分  │
├─────────────────────────────────────┤
│  总分                       25 分   │
└─────────────────────────────────────┘
```

---

## README.md 要求

```markdown
# 项目名称

一句话描述：这个项目做什么？

## 功能特性

- ✅ 功能 1
- ✅ 功能 2
- ✅ 功能 3（LLM 功能）

## 快速开始

### 环境要求

- Python 3.10+
- [其他要求]

### 安装

```bash
pip install -r requirements.txt
```

### 配置

1. 复制 `.env.example` 为 `.env`
2. 填入 API Key

### 运行

```bash
# CLI 模式
python src/main.py [参数]

# 或 Web 模式（如有）
streamlit run app.py
```

## 使用示例

[截图或示例输出]

```bash
# 示例命令
python src/main.py example
```

## 项目结构

```
project/
├── src/           # 源代码
├── data/          # 数据文件
└── ...
```

## 作者

[姓名] - [学号]
```

---

## 时间规划建议

| 周次 | 任务 | 产出 |
|-----|------|------|
| 第 12 周 | 选题、需求分析、技术调研 | 需求文档、技术方案 |
| 第 13 周 | 核心功能开发（AI 辅助） | v0.1 初版 |
| 第 14 周 | 完善功能、添加界面、处理边界 | v0.2 |
| 第 15 周 | 测试、Bug 修复、文档完善 | v1.0 |
| 第 16 周 | 项目展示 | 演示 + 答辩 |

---

## 展示要求（可选）

### 展示时间
3-5 分钟

### 展示内容
1. **项目介绍**（30秒）：解决什么问题？为什么值得做？
2. **功能演示**（2分钟）：核心功能 live demo
3. **技术亮点**（1分钟）：你引以为傲的技术决策
4. **AI 协作心得**（1分钟）：AI 帮了什么？帮不了什么？

---

## 常见问题 FAQ

**Q: 可以用 AI 写全部代码吗？**  
A: 可以！但需要在 CHANGELOG 中诚实记录，并在 REPORT 中说明你做了哪些判断和决策。纯粹的"AI 生成 → 提交"不会获得高分。

**Q: 必须用 Streamlit 吗？**  
A: 不必须。CLI（argparse）也可以。但好的用户体验会是加分项。

**Q: LLM 功能是必须的吗？**  
A: **是的，必须包含 LLM 功能。** 这是本课程第四阶段的核心内容，期末项目需要展示你对 LLM API 的掌握。

**Q: manifest.yaml 是必须的吗？**  
A: **是的，必须提供。** 评测系统根据这个文件自动运行你的项目。没有 manifest.yaml 将无法评分功能部分。

**Q: 可以组队吗？**  
A: 本课程为个人作业。如需合作，需提前申请并明确分工。

**Q: 代码量有要求吗？**  
A: 没有硬性要求。重点是**解决真实问题**，而不是凑代码行数。

---

## 写在最后

> 这是你在这门课的最后一个作业。
>
> 我们希望你带走的不只是 Python 语法，而是：
> - **与 AI 协作的能力**——知道什么该问 AI，什么该自己想
> - **为结果负责的意识**——代码是你写的（即使 AI 帮忙），结果是你的
> - **持续学习的能力**——Python 会更新，AI 会进化，但学习的能力不会过时
>
> 祝你项目顺利！🎉
